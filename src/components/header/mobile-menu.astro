---
import { navItems, socials } from '../../config/navigation';

interface Props {
  currentPath: string;
}

const { currentPath } = Astro.props;

const icons = {
  Writing: `<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>`,
  About: `<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>`,
};
---

<div
  id="mobile-menu"
  class="sm:hidden absolute top-full left-0 right-0 p-4 bg-black/40 backdrop-blur-lg rounded-xl border border-white/10 shadow-lg shadow-black/20 translate-y-2 opacity-0 pointer-events-none transition-all duration-200"
>
  <div class="grid grid-cols-2 gap-2">
    {navItems.map(item => (
      <a
        href={item.href}
        class:list={[
          "flex items-center gap-2 p-3 rounded-lg transition-colors",
          currentPath === item.href 
            ? "bg-blue-500/20 text-blue-400" 
            : "text-gray-300 hover:bg-white/5"
        ]}
      >
        <Fragment set:html={icons[item.label]} />
        {item.label}
      </a>
    ))}
    {socials.map(social => (
      <a
        href={social.url}
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center gap-2 p-3 rounded-lg text-gray-300 hover:bg-white/5 transition-colors"
      >
        <Fragment set:html={icons[social.platform as 'Writing' | 'About']} />
        {social.platform}
      </a>
    ))}
  </div>
</div>